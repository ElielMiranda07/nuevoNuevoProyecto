<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi Proyecto</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Slick Carousel CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"
    />
    <!-- Iconify Icons -->
    <link
      rel="stylesheet"
      href="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.css"
    />
    <!-- Tu CSS personalizado -->
    <link rel="stylesheet" href="styles/styles.css" />
  </head>
  <body class="bg-light text-dark">
    <!-- Header -->
    <header class="container-fluid p-0 bg-dark text-white">
      <article
        class="container d-flex flex-row justify-content-between align-items-center py-3"
      >
        <div>
          <img src="./media/logo.png" alt="Logo" class="logo-header" />
        </div>
        <div class="d-flex">
          <div class="mx-2">
            <button
              type="button"
              class="btn btn-outline-light btn-sm"
              id="btnIniciarSesion"
            >
              Iniciar Sesión
            </button>
          </div>
          <div class="mx-2" id="btnRegistrarse">
            <button class="btn btn-light" id="loginGoogle">Registrarse</button>
          </div>
        </div>
      </article>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Sección de Categorías y Subcategorías -->
      <section class="section1 container d-flex align-items-center py-5">
        <article class="container d-flex flex-column text-center">
          <!-- Contenedor de Categorías -->
          <div
            class="d-flex flex-wrap justify-content-center gap-3"
            id="contenedorCategorias"
          ></div>
          <!-- Contenedor de Subcategorías -->
          <div
            class="d-flex flex-wrap justify-content-center gap-3 mt-3"
            id="contenedorSubcategorias"
          ></div>
        </article>
      </section>

      <!-- Sección de Publicaciones -->
      <section class="section2 container py-4">
        <div class="row" id="contenedorPublicaciones"></div>
      </section>
      <!-- Modal -->
      <div
        class="modal fade"
        id="modalPublicacion"
        tabindex="-1"
        aria-labelledby="modalPublicacionLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalPublicacionLabel">
                Título de la publicación
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Cerrar"
              ></button>
            </div>
            <div class="modal-body">
              <img
                id="modalImagen"
                src=""
                class="img-fluid mb-3"
                alt="Imagen de la publicación"
                style="display: none"
              />
              <p id="modalDescripcion"></p>
              <p><strong>Teléfono:</strong> <span id="modalTelefono"></span></p>
              <p>
                <strong>Publicado el:</strong> <span id="modalFecha"></span>
              </p>
              <div
                id="modalCalificaciones"
                class="calificaciones"
                style="cursor: pointer"
              ></div>

              <!-- Sección de calificación -->
              <div id="seccionCalificacion">
                <!-- Mensaje para usuarios no autenticados -->
                <p id="mensajeAutenticacion" style="display: none">
                  Autentíquese para poder calificar.
                </p>

                <!-- Formulario de calificación para usuarios autenticados -->
                <div id="formularioCalificacion" style="display: none">
                  <h5>Agregar Calificación</h5>
                  <div class="mb-3">
                    <label for="descripcionCalificacion" class="form-label"
                      >Descripción</label
                    >
                    <textarea
                      class="form-control"
                      id="descripcionCalificacion"
                      rows="3"
                      required
                    ></textarea>
                  </div>
                  <div class="mb-3">
                    <label for="puntajeCalificacion" class="form-label"
                      >Puntaje</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="puntajeCalificacion"
                      min="1"
                      max="5"
                      step="1"
                      placeholder="De 1 a 5"
                      required
                    />
                  </div>
                  <button class="btn btn-primary" id="btnEnviarCalificacion">
                    Enviar Calificación
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal para listar calificaciones individuales -->
      <div
        class="modal fade"
        id="modalListaCalificaciones"
        tabindex="-1"
        aria-labelledby="modalListaCalificacionesLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalListaCalificacionesLabel">
                Calificaciones
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Cerrar"
              ></button>
            </div>
            <div class="modal-body">
              <div id="listaCalificaciones">
                <!-- Las calificaciones individuales se cargarán aquí -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="container-fluid bg-dark text-white py-3 text-center">
      <p>&copy; 2024 Mi Sitio Web - Todos los derechos reservados</p>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <!-- jQuery -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
    ></script>
    <!-- Slick Carousel JS -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>
    <!-- Iconify Icon Script -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <!-- Tu JS personalizado -->
    <script src="./js/js.js"></script>
  </body>
</html>
